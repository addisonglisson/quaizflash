{% extends "base.html" %}

{% block content %}
<h1>{{ pod.name }}</h1>
<div class="pulsating-line"></div>
<div class="pod-description" style="background-color: #f8f9fa; padding: 20px; border-radius: 15px; border: 1px solid #ddd; margin-bottom: 20px;">
    <p>{{ pod.description }}</p>
</div>
<h2>Posts</h2>
<div class="pulsating-line"></div>
{% for post in pod.posts %}
<div style="display: flex; align-items: center; margin-bottom: 20px; border: 1px solid #ddd; padding: 20px; background-color: #fff;">
    
    <div style="flex: 1;">
        <h3><a href="{{ url_for('create_pod_comment', post_id=post.id) }}">{{ post.title }}</a></h3>
        <p>{{ post.content[:150] }}...</p>
        <!-- Assuming StudyPodPost has a user_id attribute to determine the author -->
        <a href="{{ url_for('create_pod_comment', post_id=post.id) }}">Add Comment</a>
    </div>
</div>
<div class="post-comments">
    {% for comment in post.comments %}
    <div class="pod-description" style="background-color: #f8f9fa; padding: 20px; border-radius: 15px; border: 1px solid #ddd; margin-bottom: 20px;">
        <p>{{ comment.content }}</p>
    </div>
    {% endfor %}
</div>
{% endfor %}
<a href="{{ url_for('create_pod_post', pod_id=pod.id) }}" class="btn btn-primary">Add a Post</a>

{% endblock %}
