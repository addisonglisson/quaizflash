{% extends "base.html" %}
{% block meta_description %}
<meta name="description" content="Explore all public flashcard sets on QuaizFlash.">
{% endblock %}
{% block content %}
  <h1>{{ title }}</h1>
  <div class="container">
    {% for flashcard_set in flashcard_sets.items %}
      <div class="flashcard-set" style="display: flex; justify-content: center; align-items: center; margin-bottom: 20px;">
        <div style="display: flex; align-items: center; padding: 20px; background-color: #fff; border: 1px solid #ddd; width: 100%; box-sizing: border-box;">
          <!-- User Avatar -->
          <div style="flex-shrink: 0; margin-right: 0px;">
            <img src="{{ url_for('static', filename=flashcard_set.author.avatar if flashcard_set.author.avatar else 'default_avatar.png') }}" alt="User Avatar" style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%;">
          </div>
          <!-- Flashcard Set Info -->
          <div style="flex-grow: 1; text-align: center; padding-right: 30px;">
            <h2 style="margin: 0;"><a href="{{ url_for('view_searched_set', set_id=flashcard_set.id) }}">{{ flashcard_set.title }}</a></h2>
            <p>{{ flashcard_set.description }}</p>
            <p>Created by: {{ flashcard_set.author.username }}</p>
            <!-- Set actions here if needed -->
            <a href="{{ url_for('view_searched_set', set_id=flashcard_set.id) }}" class="btn btn-sm btn-outline-primary">View Set</a>
            <a href="{{ url_for('quiz_settings', set_id=flashcard_set.id) }}" class="btn btn-sm btn-outline-primary">Quiz Me</a>
          </div>
        </div>
      </div>
    {% endfor %}

  <!-- Add pagination links -->
  <nav aria-label="Page navigation">
    <ul class="pagination">
      {% if flashcard_sets.has_prev %}
        <li class="page-item">
          <a class="page-link" href="{{ url_for('public_sets', page=flashcard_sets.prev_num) }}">Previous</a>
        </li>
      {% endif %}
      {% if flashcard_sets.has_next %}
        <li class="page-item">
          <a class="page-link" href="{{ url_for('public_sets', page=flashcard_sets.next_num) }}">Next</a>
        </li>
      {% endif %}
    </ul>
  </nav>

{% endblock %}