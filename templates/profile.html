{% extends "index.html" %}
{% block meta_description %}
<meta name="description" content="Your QuaizFlash profile with all of your AI-powered flashcards, flashcard sets, and personalized study plans. Quiz and view your flashcards.">
{% endblock %}
{% block content %}
  <h1>{{ title }}</h1>
  <h2 class="section-title">{{ current_user.username }}'s Flashcards</h2>
  <div class="scrollable-container">
    <table class="flashcards-table">
      <tr>
        <th>Question</th>
        <th>Answer</th>
        <th>Actions</th>
      </tr>
      {% for flashcard in flashcards %}
        <tr>
          <td>{{ flashcard.question }}</td>
          <td>{{ flashcard.answer }}</td>
          <td class="actions">
            <div class="action-buttons">
              <form method="GET" action="{{ url_for('edit_flashcard', flashcard_id=flashcard.id) }}">
                <input type="submit" value="Edit" class="btn btn-sm btn-outline-info">
              </form>
              <form method="POST" action="{{ url_for('delete_flashcard', flashcard_id=flashcard.id) }}">
                <input type="submit" value="Delete" class="btn btn-sm btn-outline-danger" onclick="return confirm('Are you sure you want to delete this flashcard?');">
              </form>
              <form method="GET" action="{{ url_for('select_set', flashcard_id=flashcard.id) }}">
                <input type="submit" value="Add to Set" class="btn btn-sm btn-outline-primary add-to-set">
              </form>
            </div>
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>


  
  <div class="container">
    <div class="row">
      <!-- Flashcard Sets Section -->
      {% if flashcard_sets %}
        <div class="col-md-12">
          <h3 class="section-title">My Flashcard Sets</h3>
          <div class="row">
            {% for flashcard_set in flashcard_sets %}
              <div class="col-md-4 mb-3">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">{{ flashcard_set.title }}</h5>
                    <p class="card-text">{{ flashcard_set.description }}</p>
                    <a href="{{ url_for('flashcard_set', set_id=flashcard_set.id) }}" class="btn btn-sm btn-outline-primary">View Set</a>
                    <a href="{{ url_for('new_flashcard', set_id=flashcard_set.id) }}" class="btn btn-sm btn-outline-primary">Add Flashcard</a>
                    <a href="{{ url_for('quiz_settings', set_id=flashcard_set.id) }}" class="btn btn-sm btn-outline-primary">Quiz Me</a>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      {% else %}
        <p class="text-center">No flashcard sets found.</p>
      {% endif %}

      <!-- Study Pods Section -->
      {% if study_pods %}
        <div class="col-md-12">
          <h3 class="section-title">My Study Pods</h3>
          <div class="row">
            {% for pod in study_pods %}
              <div class="col-md-4 mb-3">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">{{ pod.name }}</h5>
                    <p class="card-text">{{ pod.description }}</p>
                    <a href="{{ url_for('view_pod', pod_id=pod.id) }}" class="btn btn-sm btn-outline-primary">View Pod</a>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      {% else %}
        <p class="text-center">You are not a part of any Study Pods yet.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}